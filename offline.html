<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <h1>You apprear to be offline.</h1>
    <!-- <p>Something went wrong.</p> -->

    <p>You can still read these pages.</p>
    <ul id="history"></ul>

    <script type="text/javascript">
    // open the cache of pages
    caches.open('pages')
    .then( pagesCache => {
      pagesCache.keys()
      .then(keys => {
        let markup = '';
        // loop through each item in the cache
        keys.forEach(request => {
          // make a link to the url of each page
          markup += `<li><a href="${request.url}"> ${request.url} </a></li>`;
        });
        // display the list of links
        document.getElementById('history').innerHTML = markup;
      }); // end keys then
    }); // end open

    </script>

  </body>
</html>
